var g,aa=aa||{},k=this,ba=function(a){a=a.split(".");for(var b=k,c;c=a.shift();)if(null!=b[c])b=b[c];else return null;return b},ca=function(){},da=function(a){a.wa=function(){return a.Da?a.Da:a.Da=new a}},ea=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&
!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b},fa=function(a){var b=ea(a);return"array"==b||"object"==b&&"number"==typeof a.length},m=function(a){return"string"==typeof a},ga=function(a){return"function"==ea(a)},ha=function(a,b,c){return a.call.apply(a.bind,arguments)},
ia=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},n=function(a,b,c){n=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ha:ia;return n.apply(null,arguments)},ja=Date.now||function(){return+new Date},p=function(a,b){function c(){}c.prototype=
b.prototype;a.ja=b.prototype;a.prototype=new c;a.Za=function(a,c,f){return b.prototype[c].apply(a,Array.prototype.slice.call(arguments,2))}};Function.prototype.bind=Function.prototype.bind||function(a,b){if(1<arguments.length){var c=Array.prototype.slice.call(arguments,1);c.unshift(this,a);return n.apply(null,c)}return n(this,a)};var q=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,q);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};p(q,Error);q.prototype.name="CustomError";var ka=function(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")},sa=function(a){if(!la.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(ma,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(na,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(oa,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(pa,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(qa,"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(ra,"&#0;"));return a},ma=/&/g,na=/</g,
oa=/>/g,pa=/"/g,qa=/'/g,ra=/\x00/g,la=/[\x00&<>"']/,ta=function(a,b){return a<b?-1:a>b?1:0};var ua=function(a,b){b.unshift(a);q.call(this,ka.apply(null,b));b.shift()};p(ua,q);ua.prototype.name="AssertionError";var r=function(a,b,c){if(!a){var d="Assertion failed";if(b)var d=d+(": "+b),e=Array.prototype.slice.call(arguments,2);throw new ua(""+d,e||[]);}},va=function(a,b){throw new ua("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};var s=Array.prototype,wa=s.indexOf?function(a,b,c){r(null!=a.length);return s.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(m(a))return m(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},xa=s.forEach?function(a,b,c){r(null!=a.length);s.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=m(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},za=function(a){var b;t:{b=ya;for(var c=a.length,d=m(a)?a.split(""):a,
e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break t}b=-1}return 0>b?null:m(a)?a.charAt(b):a[b]},Aa=function(a,b){var c=wa(a,b),d;if(d=0<=c)r(null!=a.length),s.splice.call(a,c,1);return d},Ba=function(a){return s.concat.apply(s,arguments)},Ca=function(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]};var Da="StopIteration"in k?k.StopIteration:Error("StopIteration"),Ea=function(){};Ea.prototype.next=function(){throw Da;};Ea.prototype.Ua=function(){return this};var Fa=function(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b},Ga=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b},Ha="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Ia=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Ha.length;f++)c=Ha[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var t=function(a,b){this.k={};this.e=[];this.U=this.d=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof t?(c=a.m(),d=a.i()):(c=Ga(a),d=Fa(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}};g=t.prototype;g.w=function(){return this.d};g.i=function(){Ja(this);for(var a=[],b=0;b<this.e.length;b++)a.push(this.k[this.e[b]]);return a};g.m=function(){Ja(this);return this.e.concat()};
g.A=function(a){return u(this.k,a)};g.remove=function(a){return u(this.k,a)?(delete this.k[a],this.d--,this.U++,this.e.length>2*this.d&&Ja(this),!0):!1};var Ja=function(a){if(a.d!=a.e.length){for(var b=0,c=0;b<a.e.length;){var d=a.e[b];u(a.k,d)&&(a.e[c++]=d);b++}a.e.length=c}if(a.d!=a.e.length){for(var e={},c=b=0;b<a.e.length;)d=a.e[b],u(e,d)||(a.e[c++]=d,e[d]=1),b++;a.e.length=c}};g=t.prototype;g.get=function(a,b){return u(this.k,a)?this.k[a]:b};
g.set=function(a,b){u(this.k,a)||(this.d++,this.e.push(a),this.U++);this.k[a]=b};g.forEach=function(a,b){for(var c=this.m(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};g.clone=function(){return new t(this)};g.Ua=function(a){Ja(this);var b=0,c=this.e,d=this.k,e=this.U,f=this,h=new Ea;h.next=function(){for(;;){if(e!=f.U)throw Error("The map has changed since the iterator was created");if(b>=c.length)throw Da;var h=c[b++];return a?h:d[h]}};return h};
var u=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var Ka=function(a){if("function"==typeof a.i)return a.i();if(m(a))return a.split("");if(fa(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Fa(a)},La=function(a,b){if("function"==typeof a.forEach)a.forEach(b,void 0);else if(fa(a)||m(a))xa(a,b,void 0);else{var c;if("function"==typeof a.m)c=a.m();else if("function"!=typeof a.i)if(fa(a)||m(a)){c=[];for(var d=a.length,e=0;e<d;e++)c.push(e)}else c=Ga(a);else c=void 0;for(var d=Ka(a),e=d.length,f=0;f<e;f++)b.call(void 0,d[f],c&&c[f],
a)}};var v;t:{var Ma=k.navigator;if(Ma){var Na=Ma.userAgent;if(Na){v=Na;break t}}v=""}var w=function(a){return-1!=v.indexOf(a)};var Oa=w("Opera")||w("OPR"),y=w("Trident")||w("MSIE"),Pa=w("Gecko")&&-1==v.toLowerCase().indexOf("webkit")&&!(w("Trident")||w("MSIE")),z=-1!=v.toLowerCase().indexOf("webkit"),Qa=function(){var a=k.document;return a?a.documentMode:void 0},Ra=function(){var a="",b;if(Oa&&k.opera)return a=k.opera.version,ga(a)?a():a;Pa?b=/rv\:([^\);]+)(\)|;)/:y?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:z&&(b=/WebKit\/(\S+)/);b&&(a=(a=b.exec(v))?a[1]:"");return y&&(b=Qa(),b>parseFloat(a))?String(b):a}(),Sa={},A=function(a){var b;
if(!(b=Sa[a])){b=0;for(var c=String(Ra).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var h=c[f]||"",l=d[f]||"",x=RegExp("(\\d*)(\\D*)","g"),Wa=RegExp("(\\d*)(\\D*)","g");do{var S=x.exec(h)||["","",""],F=Wa.exec(l)||["","",""];if(0==S[0].length&&0==F[0].length)break;b=ta(0==S[1].length?0:parseInt(S[1],10),0==F[1].length?0:parseInt(F[1],10))||ta(0==S[2].length,0==F[2].length)||ta(S[2],F[2])}while(0==
b)}b=Sa[a]=0<=b}return b},Ta=k.document,Ua=Ta&&y?Qa()||("CSS1Compat"==Ta.compatMode?parseInt(Ra,10):5):void 0;var Xa=function(a){var b;b||(b=Va(a||arguments.callee.caller,[]));return b},Va=function(a,b){var c=[];if(0<=wa(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(Ya(a)+"(");for(var d=a.arguments,e=0;d&&e<d.length;e++){0<e&&c.push(", ");var f;f=d[e];switch(typeof f){case "object":f=f?"object":"null";break;case "string":break;case "number":f=String(f);break;case "boolean":f=f?"true":"false";break;case "function":f=(f=Ya(f))?f:"[fn]";break;default:f=typeof f}40<f.length&&(f=f.substr(0,
40)+"...");c.push(f)}b.push(a);c.push(")\n");try{c.push(Va(a.caller,b))}catch(h){c.push("[exception trying to get caller]\n")}}else a?c.push("[...long stack...]"):c.push("[end]");return c.join("")},Ya=function(a){if(B[a])return B[a];a=String(a);if(!B[a]){var b=/function ([^\(]+)/.exec(a);B[a]=b?b[1]:"[Anonymous]"}return B[a]},B={};var C=function(a,b,c,d,e){this.reset(a,b,c,d,e)};C.prototype.Aa=null;C.prototype.za=null;var Za=0;C.prototype.reset=function(a,b,c,d,e){"number"==typeof e||Za++;d||ja();this.u=a;this.Ra=b;delete this.Aa;delete this.za};C.prototype.Ea=function(){return this.u};C.prototype.T=function(a){this.u=a};C.prototype.getMessage=function(){return this.Ra};var D=function(a){this.Na=a;this.H=this.oa=this.u=this.ea=null},E=function(a,b){this.name=a;this.value=b};E.prototype.toString=function(){return this.name};var $a=new E("SEVERE",1E3),ab=new E("WARNING",900),bb=new E("INFO",800),cb=new E("CONFIG",700),db=new E("FINE",500),eb=new E("ALL",0);D.prototype.getParent=function(){return this.ea};D.prototype.getChildren=function(){this.oa||(this.oa={});return this.oa};D.prototype.T=function(a){this.u=a};D.prototype.Ea=function(){return this.u};
var fb=function(a){if(a.u)return a.u;if(a.ea)return fb(a.ea);va("Root logger has no level set.");return null};D.prototype.log=function(a,b,c){if(a.value>=fb(this).value)for(ga(b)&&(b=b()),a=this.Ba(a,b,c,D.prototype.log),b="log:"+a.getMessage(),k.console&&(k.console.timeStamp?k.console.timeStamp(b):k.console.markTimeline&&k.console.markTimeline(b)),k.msWriteProfilerMark&&k.msWriteProfilerMark(b),b=this;b;){c=b;var d=a;if(c.H)for(var e=0,f=void 0;f=c.H[e];e++)f(d);b=b.getParent()}};
D.prototype.Ba=function(a,b,c,d){a=new C(a,String(b),this.Na);if(c){a.Aa=c;var e;d=d||D.prototype.Ba;try{var f;var h=ba("window.location.href");if(m(c))f={message:c,name:"Unknown error",lineNumber:"Not available",fileName:h,stack:"Not available"};else{var l,x;b=!1;try{l=c.lineNumber||c.Ya||"Not available"}catch(Wa){l="Not available",b=!0}try{x=c.fileName||c.filename||c.sourceURL||k.$googDebugFname||h}catch(S){x="Not available",b=!0}f=!b&&c.lineNumber&&c.fileName&&c.stack&&c.message&&c.name?c:{message:c.message||
"Not available",name:c.name||"UnknownError",lineNumber:l,fileName:x,stack:c.stack||"Not available"}}e="Message: "+sa(f.message)+'\nUrl: <a href="view-source:'+f.fileName+'" target="_new">'+f.fileName+"</a>\nLine: "+f.lineNumber+"\n\nBrowser stack:\n"+sa(f.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+sa(Xa(d)+"-> ")}catch(F){e="Exception trying to expose exception! You win, we lose. "+F}a.za=e}return a};D.prototype.info=function(a,b){this.log(bb,a,b)};D.prototype.G=function(a,b){this.log(db,a,b)};
var gb={},hb=null,ib=function(a){hb||(hb=new D(""),gb[""]=hb,hb.T(cb));var b;if(!(b=gb[a])){b=new D(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=ib(a.substr(0,c));c.getChildren()[d]=b;b.ea=c;gb[a]=b}return b};var jb=function(){};jb.prototype.ma=!1;jb.prototype.Ga=function(){this.ma||(this.ma=!0,this.t())};jb.prototype.t=function(){if(this.Ja)for(;this.Ja.length;)this.Ja.shift()()};var G=function(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.C=!1;this.xa=!0};G.prototype.t=function(){};G.prototype.Ga=function(){};G.prototype.preventDefault=function(){this.defaultPrevented=!0;this.xa=!1};var kb=function(a){kb[" "](a);return a};kb[" "]=ca;var lb;(lb=!y)||(lb=y&&9<=Ua);var mb=lb,nb=y&&!A("9");!z||A("528");Pa&&A("1.9b")||y&&A("8")||Oa&&A("9.5")||z&&A("528");Pa&&!A("8")||y&&A("9");var H=function(a,b){G.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.Ca=this.state=null;if(a){var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(Pa){var e;t:{try{kb(d.nodeName);e=!0;break t}catch(f){}e=!1}e||(d=null)}}else"mouseover"==
c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=z||void 0!==a.offsetX?a.offsetX:a.layerX;this.offsetY=z||void 0!==a.offsetY?a.offsetY:a.layerY;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=
a.metaKey;this.state=a.state;this.Ca=a;a.defaultPrevented&&this.preventDefault()}};p(H,G);H.prototype.preventDefault=function(){H.ja.preventDefault.call(this);var a=this.Ca;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,nb)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};H.prototype.t=function(){};var ob="closure_listenable_"+(1E6*Math.random()|0),pb=function(a){try{return!(!a||!a[ob])}catch(b){return!1}},qb=0;var rb=function(a,b,c,d,e){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.aa=!!d;this.ca=e;this.key=++qb;this.removed=this.ba=!1},sb=function(a){a.removed=!0;a.listener=null;a.proxy=null;a.src=null;a.ca=null};var I=function(a){this.src=a;this.f={};this.J=0};I.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.f[f];a||(a=this.f[f]=[],this.J++);var h=tb(a,b,d,e);-1<h?(b=a[h],c||(b.ba=!1)):(b=new rb(b,this.src,f,!!d,e),b.ba=c,a.push(b));return b};I.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.f))return!1;var e=this.f[a];b=tb(e,b,c,d);return-1<b?(sb(e[b]),r(null!=e.length),s.splice.call(e,b,1),0==e.length&&(delete this.f[a],this.J--),!0):!1};
var ub=function(a,b){var c=b.type;c in a.f&&Aa(a.f[c],b)&&(sb(b),0==a.f[c].length&&(delete a.f[c],a.J--))};I.prototype.removeAll=function(a){a=a&&a.toString();var b=0,c;for(c in this.f)if(!a||c==a){for(var d=this.f[c],e=0;e<d.length;e++)++b,sb(d[e]);delete this.f[c];this.J--}return b};I.prototype.qa=function(a,b,c,d){a=this.f[a.toString()];var e=-1;a&&(e=tb(a,b,c,d));return-1<e?a[e]:null};
var tb=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.removed&&f.listener==b&&f.aa==!!c&&f.ca==d)return e}return-1};var vb="closure_lm_"+(1E6*Math.random()|0),wb={},xb=0,yb=function(a,b,c,d,e){if("array"==ea(b))for(var f=0;f<b.length;f++)yb(a,b[f],c,d,e);else if(c=zb(c),pb(a))a.listen(b,c,d,e);else{if(!b)throw Error("Invalid event type");var f=!!d,h=Ab(a);h||(a[vb]=h=new I(a));c=h.add(b,c,!1,d,e);c.proxy||(d=Bb(),c.proxy=d,d.src=a,d.listener=c,a.addEventListener?a.addEventListener(b.toString(),d,f):a.attachEvent(Cb(b.toString()),d),xb++)}},Bb=function(){var a=Db,b=mb?function(c){return a.call(b.src,b.listener,
c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b},Eb=function(a,b,c,d,e){if("array"==ea(b))for(var f=0;f<b.length;f++)Eb(a,b[f],c,d,e);else c=zb(c),pb(a)?a.l.remove(String(b),c,d,e):a&&(a=Ab(a))&&(b=a.qa(b,c,!!d,e))&&Fb(b)},Fb=function(a){if("number"!=typeof a&&a&&!a.removed){var b=a.src;if(pb(b))ub(b.l,a);else{var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.aa):b.detachEvent&&b.detachEvent(Cb(c),d);xb--;(c=Ab(b))?(ub(c,a),0==c.J&&(c.src=null,b[vb]=null)):
sb(a)}}},Cb=function(a){return a in wb?wb[a]:wb[a]="on"+a},Hb=function(a,b,c,d){var e=1;if(a=Ab(a))if(b=a.f[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.aa==c&&!f.removed&&(e&=!1!==Gb(f,d))}return Boolean(e)},Gb=function(a,b){var c=a.listener,d=a.ca||a.src;a.ba&&Fb(a);return c.call(d,b)},Db=function(a,b){if(a.removed)return!0;if(!mb){var c=b||ba("window.event"),d=new H(c,this),e=!0;if(!(0>c.keyCode||void 0!=c.returnValue)){t:{var f=!1;if(0==c.keyCode)try{c.keyCode=-1;break t}catch(h){f=
!0}if(f||void 0==c.returnValue)c.returnValue=!0}c=[];for(f=d.currentTarget;f;f=f.parentNode)c.push(f);for(var f=a.type,l=c.length-1;!d.C&&0<=l;l--)d.currentTarget=c[l],e&=Hb(c[l],f,!0,d);for(l=0;!d.C&&l<c.length;l++)d.currentTarget=c[l],e&=Hb(c[l],f,!1,d)}return e}return Gb(a,new H(b,this))},Ab=function(a){a=a[vb];return a instanceof I?a:null},Ib="__closure_events_fn_"+(1E9*Math.random()>>>0),zb=function(a){r(a,"Listener can not be null.");if(ga(a))return a;r(a.handleEvent,"An object listener must have handleEvent method.");
return a[Ib]||(a[Ib]=function(b){return a.handleEvent(b)})};var J=function(){this.l=new I(this);this.Oa=this};p(J,jb);J.prototype[ob]=!0;g=J.prototype;g.la=null;g.addEventListener=function(a,b,c,d){yb(this,a,b,c,d)};g.removeEventListener=function(a,b,c,d){Eb(this,a,b,c,d)};
g.dispatchEvent=function(a){Jb(this);var b,c=this.la;if(c){b=[];for(var d=1;c;c=c.la)b.push(c),r(1E3>++d,"infinite loop")}c=this.Oa;d=a.type||a;if(m(a))a=new G(a,c);else if(a instanceof G)a.target=a.target||c;else{var e=a;a=new G(d,c);Ia(a,e)}var e=!0,f;if(b)for(var h=b.length-1;!a.C&&0<=h;h--)f=a.currentTarget=b[h],e=Kb(f,d,!0,a)&&e;a.C||(f=a.currentTarget=c,e=Kb(f,d,!0,a)&&e,a.C||(e=Kb(f,d,!1,a)&&e));if(b)for(h=0;!a.C&&h<b.length;h++)f=a.currentTarget=b[h],e=Kb(f,d,!1,a)&&e;return e};
g.t=function(){J.ja.t.call(this);this.l&&this.l.removeAll(void 0);this.la=null};g.listen=function(a,b,c,d){Jb(this);return this.l.add(String(a),b,!1,c,d)};var Kb=function(a,b,c,d){b=a.l.f[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var h=b[f];if(h&&!h.removed&&h.aa==c){var l=h.listener,x=h.ca||h.src;h.ba&&ub(a.l,h);e=!1!==l.call(x,d)&&e}}return e&&!1!=d.xa};J.prototype.qa=function(a,b,c,d){return this.l.qa(String(a),b,c,d)};var Jb=function(a){r(a.l,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")};var K=function(a,b){a&&a.G(b,void 0)};var Lb=function(a,b,c){if(ga(a))c&&(a=n(a,c));else if(a&&"function"==typeof a.handleEvent)a=n(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<b?-1:k.setTimeout(a,b||0)};var Mb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),Ob=function(a){if(Nb){Nb=!1;var b=k.location;if(b){var c=b.href;if(c&&(c=(c=Ob(c)[3]||null)&&decodeURIComponent(c))&&c!=b.hostname)throw Nb=!0,Error();}}return a.match(Mb)},Nb=z;var Pb=function(){};Pb.prototype.Fa=null;var Rb=function(a){var b;(b=a.Fa)||(b={},Qb(a)&&(b[0]=!0,b[1]=!0),b=a.Fa=b);return b};var Sb,Tb=function(){};p(Tb,Pb);var Ub=function(a){return(a=Qb(a))?new ActiveXObject(a):new XMLHttpRequest},Qb=function(a){if(!a.Ia&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.Ia=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.Ia};Sb=new Tb;var L=function(a){J.call(this);this.headers=new t;this.R=a||null;this.p=!1;this.M=this.a=null;this.D=this.ra=this.N="";this.s=this.fa=this.L=this.ga=!1;this.F=0;this.O=null;this.sa="";this.P=this.Ka=!1};p(L,J);var Vb=L.prototype,Wb=ib("goog.net.XhrIo");Vb.b=Wb;var Xb=/^https?$/i,Yb=["POST","PUT"],Zb=[];L.prototype.Va=function(){this.Ga();Aa(Zb,this)};
L.prototype.send=function(a,b,c,d){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.N+"; newUri="+a);b=b?b.toUpperCase():"GET";this.N=a;this.D="";this.ra=b;this.ga=!1;this.p=!0;this.a=this.R?Ub(this.R):Ub(Sb);this.M=this.R?Rb(this.R):Rb(Sb);this.a.onreadystatechange=n(this.ta,this);try{K(this.b,M(this,"Opening Xhr")),this.fa=!0,this.a.open(b,String(a),!0),this.fa=!1}catch(e){K(this.b,M(this,"Error opening Xhr: "+e.message));$b(this,e);return}a=c||"";var f=this.headers.clone();
d&&La(d,function(a,b){f.set(b,a)});d=za(f.m());c=k.FormData&&a instanceof k.FormData;!(0<=wa(Yb,b))||d||c||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");f.forEach(function(a,b){this.a.setRequestHeader(b,a)},this);this.sa&&(this.a.responseType=this.sa);"withCredentials"in this.a&&(this.a.withCredentials=this.Ka);try{ac(this),0<this.F&&(this.P=bc(this.a),K(this.b,M(this,"Will abort after "+this.F+"ms if incomplete, xhr2 "+this.P)),this.P?(this.a.timeout=this.F,this.a.ontimeout=
n(this.ua,this)):this.O=Lb(this.ua,this.F,this)),K(this.b,M(this,"Sending request")),this.L=!0,this.a.send(a),this.L=!1}catch(h){K(this.b,M(this,"Send error: "+h.message)),$b(this,h)}};var bc=function(a){return y&&A(9)&&"number"==typeof a.timeout&&void 0!==a.ontimeout},ya=function(a){return"content-type"==a.toLowerCase()};L.prototype.ua=function(){"undefined"!=typeof aa&&this.a&&(this.D="Timed out after "+this.F+"ms, aborting",K(this.b,M(this,this.D)),this.dispatchEvent("timeout"),this.abort(8))};
var $b=function(a,b){a.p=!1;a.a&&(a.s=!0,a.a.abort(),a.s=!1);a.D=b;cc(a);dc(a)},cc=function(a){a.ga||(a.ga=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))};L.prototype.abort=function(){this.a&&this.p&&(K(this.b,M(this,"Aborting")),this.p=!1,this.s=!0,this.a.abort(),this.s=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),dc(this))};L.prototype.t=function(){this.a&&(this.p&&(this.p=!1,this.s=!0,this.a.abort(),this.s=!1),dc(this,!0));L.ja.t.call(this)};
L.prototype.ta=function(){this.ma||(this.fa||this.L||this.s?ec(this):this.Pa())};L.prototype.Pa=function(){ec(this)};
var ec=function(a){if(a.p&&"undefined"!=typeof aa)if(a.M[1]&&4==N(a)&&2==a.getStatus())K(a.b,M(a,"Local request error detected and ignored"));else if(a.L&&4==N(a))Lb(a.ta,0,a);else if(a.dispatchEvent("readystatechange"),4==N(a)){K(a.b,M(a,"Request complete"));a.p=!1;try{var b=a.getStatus(),c,d;t:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:d=!0;break t;default:d=!1}if(!(c=d)){var e;if(e=0===b){var f=Ob(String(a.N))[1]||null;if(!f&&self.location)var h=self.location.protocol,
f=h.substr(0,h.length-1);e=!Xb.test(f?f.toLowerCase():"")}c=e}if(c)a.dispatchEvent("complete"),a.dispatchEvent("success");else{var l;try{l=2<N(a)?a.a.statusText:""}catch(x){K(a.b,"Can not get status: "+x.message),l=""}a.D=l+" ["+a.getStatus()+"]";cc(a)}}finally{dc(a)}}},dc=function(a,b){if(a.a){ac(a);var c=a.a,d=a.M[0]?ca:null;a.a=null;a.M=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){(c=a.b)&&c.log($a,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}},
ac=function(a){a.a&&a.P&&(a.a.ontimeout=null);"number"==typeof a.O&&(k.clearTimeout(a.O),a.O=null)},N=function(a){return a.a?a.a.readyState:0};L.prototype.getStatus=function(){try{return 2<N(this)?this.a.status:-1}catch(a){return-1}};var M=function(a,b){return b+" ["+a.ra+" "+a.N+" "+a.getStatus()+"]"};var fc=function(a){this.K=0;this.pa=a||100;this.v=[]};g=fc.prototype;g.add=function(a){var b=this.v[this.K];this.v[this.K]=a;this.K=(this.K+1)%this.pa;return b};g.get=function(a){a=gc(this,a);return this.v[a]};g.set=function(a,b){a=gc(this,a);this.v[a]=b};g.w=function(){return this.v.length};g.i=function(){for(var a=this.w(),b=this.w(),c=[],a=this.w()-a;a<b;a++)c.push(this.get(a));return c};g.m=function(){for(var a=[],b=this.w(),c=0;c<b;c++)a[c]=c;return a};g.A=function(a){return a<this.w()};
var gc=function(a,b){if(b>=a.v.length)throw Error("Out of bounds exception");return a.v.length<a.pa?b:(a.K+Number(b))%a.pa};var O=function(a,b){var c;if(a instanceof O)this.g=void 0!==b?b:a.g,hc(this,a.B),c=a.$,P(this),this.$=c,c=a.I,P(this),this.I=c,ic(this,a.Z),c=a.Y,P(this),this.Y=c,jc(this,a.r.clone()),c=a.X,P(this),this.X=c;else if(a&&(c=Ob(String(a)))){this.g=!!b;hc(this,c[1]||"",!0);var d=c[2]||"";P(this);this.$=d?decodeURIComponent(d):"";d=c[3]||"";P(this);this.I=d?decodeURIComponent(d):"";ic(this,c[4]);d=c[5]||"";P(this);this.Y=d?decodeURIComponent(d):"";jc(this,c[6]||"",!0);c=c[7]||"";P(this);this.X=c?decodeURIComponent(c):
""}else this.g=!!b,this.r=new Q(null,0,this.g)};g=O.prototype;g.B="";g.$="";g.I="";g.Z=null;g.Y="";g.X="";g.Xa=!1;g.g=!1;g.toString=function(){var a=[],b=this.B;b&&a.push(R(b,kc),":");if(b=this.I){a.push("//");var c=this.$;c&&a.push(R(c,kc),"@");a.push(encodeURIComponent(String(b)));b=this.Z;null!=b&&a.push(":",String(b))}if(b=this.Y)this.I&&"/"!=b.charAt(0)&&a.push("/"),a.push(R(b,"/"==b.charAt(0)?lc:mc));(b=this.r.toString())&&a.push("?",b);(b=this.X)&&a.push("#",R(b,nc));return a.join("")};
g.clone=function(){return new O(this)};var hc=function(a,b,c){P(a);a.B=c?b?decodeURIComponent(b):"":b;a.B&&(a.B=a.B.replace(/:$/,""))},ic=function(a,b){P(a);if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.Z=b}else a.Z=null},jc=function(a,b,c){P(a);b instanceof Q?(a.r=b,a.r.na(a.g)):(c||(b=R(b,oc)),a.r=new Q(b,0,a.g))},T=function(a,b,c){P(a);a.r.set(b,c)},P=function(a){if(a.Xa)throw Error("Tried to modify a read-only Uri");};
O.prototype.na=function(a){this.g=a;this.r&&this.r.na(a);return this};
var R=function(a,b){return m(a)?encodeURI(a).replace(b,pc):null},pc=function(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)},kc=/[#\/\?@]/g,mc=/[\#\?:]/g,lc=/[\#\?]/g,oc=/[\#\?@]/g,nc=/#/g,Q=function(a,b,c){this.h=a||null;this.g=!!c},V=function(a){if(!a.c&&(a.c=new t,a.d=0,a.h))for(var b=a.h.split("&"),c=0;c<b.length;c++){var d=b[c].indexOf("="),e=null,f=null;0<=d?(e=b[c].substring(0,d),f=b[c].substring(d+1)):e=b[c];e=decodeURIComponent(e.replace(/\+/g," "));e=U(a,e);a.add(e,
f?decodeURIComponent(f.replace(/\+/g," ")):"")}};g=Q.prototype;g.c=null;g.d=null;g.w=function(){V(this);return this.d};g.add=function(a,b){V(this);this.h=null;a=U(this,a);var c=this.c.get(a);c||this.c.set(a,c=[]);c.push(b);this.d++;return this};g.remove=function(a){V(this);a=U(this,a);return this.c.A(a)?(this.h=null,this.d-=this.c.get(a).length,this.c.remove(a)):!1};g.A=function(a){V(this);a=U(this,a);return this.c.A(a)};
g.m=function(){V(this);for(var a=this.c.i(),b=this.c.m(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};g.i=function(a){V(this);var b=[];if(m(a))this.A(a)&&(b=Ba(b,this.c.get(U(this,a))));else{a=this.c.i();for(var c=0;c<a.length;c++)b=Ba(b,a[c])}return b};g.set=function(a,b){V(this);this.h=null;a=U(this,a);this.A(a)&&(this.d-=this.c.get(a).length);this.c.set(a,[b]);this.d++;return this};g.get=function(a,b){var c=a?this.i(a):[];return 0<c.length?String(c[0]):b};
g.toString=function(){if(this.h)return this.h;if(!this.c)return"";for(var a=[],b=this.c.m(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.i(d),f=0;f<d.length;f++){var h=e;""!==d[f]&&(h+="="+encodeURIComponent(String(d[f])));a.push(h)}return this.h=a.join("&")};g.clone=function(){var a=new Q;a.h=this.h;this.c&&(a.c=this.c.clone(),a.d=this.d);return a};var U=function(a,b){var c=String(b);a.g&&(c=c.toLowerCase());return c};
Q.prototype.na=function(a){a&&!this.g&&(V(this),this.h=null,this.c.forEach(function(a,c){var d=c.toLowerCase();c!=d&&(this.remove(c),this.remove(d),0<a.length&&(this.h=null,this.c.set(U(this,d),Ca(a)),this.d+=a.length))},this));this.g=a};var qc=function(){this.La=new fc(100);this.b=ib("hotword.Logger");this.b.T(eb);var a=this.b,b=n(this.Ma,this);a.H||(a.H=[]);a.H.push(b);this.ya={};this.da={}};da(qc);qc.prototype.Ma=function(a){a.Ea().value>=db.value&&this.La.add(a.getMessage())};qc.prototype.G=function(a){this.b.G(a)};var rc=function(){this.ia=this.va=0;this.S=!1;this.q=[];this.j=-1;this.b=ib("hotword.AudioLogger");this.b.T($a);top.alb=null};da(rc);var sc=function(){this.n=1;this.V=this.o=null;this.b=qc.wa();this.W=null;this.ka=!1;this.ha=rc.wa()};g=sc.prototype;g.start=function(){if(2==this.n||1==this.n)this.n=3,navigator.webkitGetUserMedia({audio:{optional:[{googDucking:!1}]}},n(this.Ta,this),n(this.Sa,this))};
g.Wa=function(a){switch(a.data.type){case "sai":this.b.G("Starting input");this.start();break;case "hlt":if(top.ale&&(a=this.ha,!(0>=a.ia))){var b=new O("https://www.google.com/speech-api/v2/recognize?output=json&lang=en-us&app=web-hotword");chrome&&chrome.app&&chrome.app.getDetails&&chrome.app.getDetails()&&T(b,"app","web-hotword-"+chrome.app.getDetails().version);T(b,"client","chrome-hotword");T(b,"key","AIzaSyCnl6MRydhw_5fLXIdASxkLJzcJh5iX0M4");var c={};c["Content-Type"]="audio/l16; rate="+a.va;
top.alu=b;top.alh=c;b=new Int16Array(4096*(a.S?a.q.length:a.j+1));if(0<=a.j){var c=a.S?a.j+1:0,d=0;do{c>=a.q.length&&(c=0);4096!=a.q[c].length&&a.b.log(ab,"ERROR: buffer size "+a.q[c].length,void 0);for(var e=0;4096>e;++e)b[d++]=a.q[c][e]}while(c++!=a.j)}top.alb=b}W("trig")}};g.Ta=function(a){this.V=this.o.createScriptProcessor(4096,1,1);this.V.onaudioprocess=n(this.Qa,this);this.o.createMediaStreamSource(a).connect(this.V);this.V.connect(this.o.destination)};g.Sa=function(){this.n=1;W("er","ai2")};
g.Qa=function(a){if(4!=this.n){if(3!=this.n){this.b.G("Audio received but not in starting state!");return}this.n=4;W("ast")}a=a.inputBuffer.getChannelData(0);tc(this,a,a.length);var b;b=this.ha;++b.j>=b.ia&&(b.S=!0,b.j=0);b.q[b.j]||(b.q[b.j]=new Int16Array(4096));b=b.q[b.j];for(var c=0;c<a.length;++c)b[c]=Math.round(32767*a[c]);W("audd",b.buffer)};
var W=function(a,b){top.postMessage({type:a,data:b},"*")},tc=function(a,b,c){if(!a.ka){for(var d=0,e=0,f=0;f<c;++f)0==b[f]?++e:(d=Math.max(e,d),e=0);d=Math.max(e,d);50>d&&4096==c?(a.W&&window.clearTimeout(a.W),a.ka=!0):a.W||(a.W=window.setTimeout(n(function(){this.ka||4!=this.n||W("er","am3")},a),2E3))}};window.audioInput=new sc;
t:{var X=window.audioInput;if(!X.o){window.AudioContext?X.o=new window.AudioContext:window.webkitAudioContext&&(X.o=new window.webkitAudioContext);if(!X.o){W("er","ai1");X.n=1;break t}var Y=X.b;Y.b.info("AudioContext created (background).");var Z=new O("https://www.google.com/gen_204");T(Z,"atyp","i");T(Z,"ct","chw");T(Z,"cd","n");T(Z,"cad","aix");chrome&&chrome.app&&chrome.app.getDetails&&chrome.app.getDetails()&&T(Z,"chwv",chrome.app.getDetails().version);"stats-aix"in Y.da?Y.da["stats-aix"]++:
Y.da["stats-aix"]=1;var $=parseInt(window.localStorage.getItem("stats-aix"),10);isNaN($)?$=1:$++;window.localStorage.setItem("stats-aix",""+$);Y.ya["stats-aix"]=$;T(Z,"chwls",Y.da["stats-aix"]);T(Z,"chwgs",Y.ya["stats-aix"]);for(var uc in void 0)T(Z,uc,(void 0)[uc]);window.Ha&&window.Ha.kEI&&T(Z,"ei",window.Ha.kEI);T(Z,"zx",(new Date).getTime());var vc=new L;Zb.push(vc);vc.l.add("ready",vc.Va,!0,void 0,void 0);vc.send(Z,void 0,void 0,void 0);var wc=X.o.sampleRate;W("samr",wc);top.samr=wc;var xc=X.ha,
yc=X.o.sampleRate;xc.va=yc;xc.ia=8E3>yc||48E3<yc?0:Math.floor(2*yc/4096);xc.S=!1;xc.j=-1;top.alb=null}window.addEventListener("message",n(X.Wa,X),!1)}document.addEventListener("DOMContentLoaded",function(){top.aifr=!0;top.postMessage({type:"fsu"},"*")},!1);
